<header>
	<div
		class="header__content">
		<!-- Desktop -->
		<div class="header__desktop">
			<div class="d-flex flex-column">
				<div class="d-flex justify-content-center align-items-center">
				{% if current_url != site.url %}
					<a href="{{ site.url }}/">
						<img src="{{ theme.link }}/assets/images/svgs/logo.svg" class="header__desktop-logo-mini" alt="Logo">
					</a>
				{% endif %}
					<nav>
						<ul>
							<li><a href="{{site.url}}/">Início</a></li>
							<li><a href="{{site.url}}/termos-de-uso">Termos de uso</a></li>
							<li><a href="{{site.url}}/loja">Loja</a></li>
							<li>
								<a href="{{ function('wc_get_cart_url') }}" class="btn position-relative" type="button">
									{% if cart_count > 0 %}
										<span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
											{{ cart_count }}
											<span class="visually-hidden">Itens no carrinho</span>
										</span>
									{% endif %}
									<i class="bi bi-cart"></i>
								</a>
							</li>
						</ul>
					</nav>

					<form role="search" method="get" class="header__search" action="{{ site.url }}/" onsubmit="return validarBusca(this);">
						<label>
							<span class="screen-reader-text">{{ function('_x', 'Pesquisar por:', 'label') }}</span>
							<input type="search" placeholder="{{ function('esc_attr_x', 'Digite sua busca', 'placeholder') }}" value="{{ function('get_search_query') }}" name="s"/>
						</label>
						<button type="submit" class="btn btn-light">{{ function('esc_html_x', 'Buscar', 'submit button') }}</button>
					</form>
				</div>
				{% if current_url == site.url %}
					<img class="header__desktop-logo" src="{{ theme.link }}/assets/images/svgs/logo.svg" alt="Logo">
				{% endif %}
			</div>
		</div>

		<!-- Mobile -->
		<div class="header__mobile">
			<div class="d-flex justify-content-between align-items-center">
				<img src="{{ theme.link }}/assets/images/svgs/logo.svg" alt="Logo">
				<div class="d-flex align-items-center">
					<button class="btn" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSearch" aria-expanded="false" aria-controls="collapseSearch">
						<i class="bi bi-search"></i>
					</button>

					<a href="{{ function('wc_get_cart_url') }}" class="btn ms-2 me-2 position-relative" type="button">
						{% if cart_count > 0 %}
							<span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
								{{ cart_count }}
								<span class="visually-hidden">Itens no carrinho</span>
							</span>
						{% endif %}
						<i class="bi bi-cart"></i>
					</a>

					<button class="btn btn-lg" type="button" data-bs-toggle="collapse" data-bs-target="#collapseMenu" aria-expanded="false" aria-controls="collapseMenu">
						<i class="bi bi-list"></i>
					</button>
				</div>
			</div>

			<div class="header__mobile-menu">
				<div class="collapse" id="collapseSearch">
					<form role="search" method="get" class="header__search" action="{{ site.url }}/" onsubmit="return validarBusca(this);">
						<label>
							<span class="screen-reader-text">{{ function('_x', 'Pesquisar por:', 'label') }}</span>
							<input type="search" placeholder="{{ function('esc_attr_x', 'Digite sua busca', 'placeholder') }}" value="{{ function('get_search_query') }}" name="s"/>
						</label>
						<button type="submit" class="btn btn-light">{{ function('esc_html_x', 'Buscar', 'submit button') }}</button>
					</form>
				</div>
				<div class="collapse mt-2" id="collapseMenu">
					<div class="list-group" id="list-tab" role="tablist">
						<a class="list-group-item list-group-item-action {% if current_url == site.url %}active{% endif %}" href="{{ site.url }}/">Início</a>
						<a class="list-group-item list-group-item-action {% if current_url matches '/termos-de-uso/?$' %}active{% endif %}" href="{{ site.url }}/termos-de-uso">Termos de uso</a>
						<a class="list-group-item list-group-item-action {% if current_url matches '/loja/?$' %}active{% endif %}" href="{{ site.url }}/loja">Loja</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</header>
